name: Email Notification

on:
  workflow_dispatch:
    inputs:
      status:
        description: "Deployment status (success/failure)"
        required: true
      message:
        description: "Detailed message about the deployment"
        required: true

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Send Email Notification via SendGrid
        uses: dawidd6/action-send-mail@v3
        with:
          server_address: smtp.sendgrid.net
          server_port: 587
          username: apikey
          password: ${{ secrets.SENDGRID_API_KEY }}
          subject: "ğŸ“£ RASAN Deployment Status: ${{ github.event.inputs.status }}"
          to: "ashjan.aljbreen@gmail.com"
          from: "ashjannnnnnn@gmail.com"
          body: |
            Hello,

            ğŸš€ Deployment Status: **${{ github.event.inputs.status }}**

            ğŸ“ Details:
            ${{ github.event.inputs.message }}

            -- 
            GitHub Actions - Automated Notification
